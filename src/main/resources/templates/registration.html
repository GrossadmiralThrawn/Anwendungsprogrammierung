<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout.html}">
    <head>
    </head>
    <body>
        <div class="main-wrapper" role="main" layout:fragment="content">
            <h1 style="font-size: 48px;">Registrieren</h1>
            <form id="registerForm" action="/lunar_space_port/register" method="post" enctype="application/json">
                <div class="formfield">
                    <label for="email" style="font-size: 36px;">E-Mail:</label>
                    <input id="email" name="email" placeholder="E-Mail" type="email" required="" style="font-size: 36px; padding: 10px;">
                </div>
                <div class="formfield">
                    <label for="password" style="font-size: 36px;">Passwort:</label>
                    <input id="password" name="password" placeholder="Passwort" type="password" required="" style="font-size: 36px; padding: 10px;">
                </div>
                <button type="submit" style="font-size: 36px; padding: 10px;">Registrieren</button>
            </form>
            <script>
                document.getElementById("registerForm").addEventListener("submit", function (event) {
                    event.preventDefault(); // Prevent default form submission

                    var email = document.getElementById("email").value;
                    var password = document.getElementById("password").value;

                    var data = {
                        email: email,
                        password: password
                    };

                    fetch('http://localhost:8080/lunar_space_port/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    }).then(response => {
                        if (response.ok) {
                            alert("Daten wurden erfolgreich gesendet!");
                        } else {
                            alert("Fehler beim Senden der Daten!");
                        }
                    })
                            .catch(error => {
                                alert("Es ist ein Fehler aufgetreten: " + error.message);
                            });
                });
            </script>
        </div>

    </body>
</html>
